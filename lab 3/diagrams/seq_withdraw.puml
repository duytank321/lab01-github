@startuml
actor Customer
participant ATM
participant BankServer

Customer -> ATM : insertCard()
ATM -> Customer : promptPIN()
Customer -> ATM : enterPIN()
ATM -> BankServer : validatePIN()
BankServer --> ATM : validationResult

alt PIN valid
  ATM -> Customer : showOptions()
  Customer -> ATM : selectWithdraw()
  ATM -> Customer : askAmount()
  Customer -> ATM : enterAmount()
  ATM -> BankServer : requestWithdrawal(amount)
  BankServer --> ATM : approveTransaction()
  ATM -> Customer : dispenseCash()
  ATM -> Customer : printReceipt()
else PIN invalid
  ATM -> Customer : showError("Invalid PIN")
end
@enduml
